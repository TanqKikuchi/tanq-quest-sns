# プロトタイプローンチチェックリスト

プロトタイプローンチまでに必要な作業のチェックリストです。

## ✅ 実装完了項目

### バックエンド
- [x] データベース設計・初期化スクリプト
- [x] 認証・ユーザー管理API
- [x] クエスト取得API
- [x] 投稿機能API（CRUD、フィルタ・ソート）
- [x] スタンプ機能API
- [x] フォロー機能API
- [x] プロフィール管理API
- [x] 管理者機能API
- [x] 画像アップロードAPI（Google Drive対応）

### フロントエンド
- [x] ログイン/ログアウト
- [x] 初回画面（章受講確認）
- [x] クエストポータル
- [x] コミュニティタイムライン（フィルタ・ソート・スタンプ）
- [x] 投稿作成（画像アップロード、確認画面）
- [x] 投稿編集
- [x] マイページ（プロフィール、投稿一覧、編集・削除）
- [x] フォロー機能UI（フォローボタン、フォロー一覧）
- [x] ローディング表示
- [x] エラーハンドリング
- [x] 通知システム
- [x] レスポンシブデザイン

## 📋 ローンチ前の必須作業

### 1. 環境設定

#### データベース初期化
- [ ] Googleスプレッドシートを新規作成
- [ ] `backend/initialize-database.gs` を実行してテーブルを作成
- [ ] マスターデータの投入
  - [ ] Schools（校舎マスタ）
  - [ ] Classes（クラスマスタ）
  - [ ] Quests（クエストデータ）
  - [ ] Badges（バッジマスタ、必要に応じて）

#### Google Drive設定
- [ ] 画像保存用フォルダの作成（個人Driveまたは共有Drive）
- [ ] スクリプトプロパティに `IMAGE_FOLDER_ID` を設定
- [ ] 実行ユーザーに適切な権限を付与（共有Driveの場合）

#### APIデプロイ
- [ ] `backend/` ディレクトリの全ファイルをApps Scriptに追加
- [ ] Google Cloud ConsoleでDrive APIを有効化
- [ ] Apps ScriptプロジェクトをGCPプロジェクトに紐付け
- [ ] Web Appsとしてデプロイ
- [ ] デプロイURLを取得

#### フロントエンド設定
- [ ] `frontend/js/main.js` でAPIベースURLを設定
- [ ] GitHub Pagesにデプロイ
- [ ] デプロイURLを確認

### 2. テストデータの投入

- [ ] テストユーザーの作成（Users、Profiles）
  - [ ] 管理者ユーザー
  - [ ] モデレーターユーザー
  - [ ] 一般ユーザー（Student/Parent/Graduate/Staff）
- [ ] サンプル投稿の作成（Posts）
- [ ] スタンプデータの作成（Stamps）
- [ ] フォローデータの作成（Follows）

### 3. 動作確認

#### 基本機能
- [ ] ログイン/ログアウト
- [ ] 初回画面の表示
- [ ] クエストポータルの表示
- [ ] コミュニティタイムラインの表示
- [ ] 投稿作成（画像アップロード含む）
- [ ] 投稿編集
- [ ] 投稿削除
- [ ] スタンプ機能
- [ ] フォロー機能
- [ ] マイページの表示

#### フィルタ・ソート
- [ ] 全体フィルタ
- [ ] フォローフィルタ
- [ ] 新着順ソート
- [ ] スタンプ別ソート

#### エラーハンドリング
- [ ] ネットワークエラー時の表示
- [ ] 認証エラー時の表示
- [ ] バリデーションエラー時の表示
- [ ] 1日1投稿制限の動作確認

#### レスポンシブ
- [ ] PC表示の確認
- [ ] タブレット表示の確認
- [ ] スマートフォン表示の確認

### 4. セキュリティ確認

- [ ] 認証が必要なAPIの保護確認
- [ ] 権限チェックの動作確認
- [ ] アカウント凍結機能の動作確認
- [ ] 画像の公開設定確認

### 5. パフォーマンス確認

- [ ] ページ読み込み速度
- [ ] API応答速度
- [ ] 画像アップロード速度
- [ ] 大量データ表示時の動作

## 📝 ローンチ後の推奨作業

### 短期（1週間以内）
- [ ] ユーザーフィードバックの収集
- [ ] バグ修正
- [ ] パフォーマンス改善

### 中期（1ヶ月以内）
- [ ] 管理者機能UIの実装
- [ ] 機能追加（必要に応じて）
- [ ] ドキュメントの整備

### 長期（3ヶ月以内）
- [ ] 本格運用に向けた改善
- [ ] ストレージ移行の検討（Google Cloud Storage等）
- [ ] 認証システムの強化

## 🚨 トラブルシューティング

### よくある問題

1. **APIが動作しない**
   - デプロイURLが正しいか確認
   - 実行ユーザーの権限を確認
   - Apps Scriptの実行ログを確認

2. **画像がアップロードされない**
   - Drive APIが有効化されているか確認
   - フォルダIDが正しいか確認
   - 実行ユーザーのDrive権限を確認

3. **CORSエラー**
   - GAS Web Appsの設定を確認
   - フロントエンドのURLが正しいか確認

4. **データが表示されない**
   - データベースにデータが存在するか確認
   - APIのレスポンスを確認
   - ブラウザのコンソールを確認

## 📚 参考ドキュメント

- [データベースセットアップガイド](database-setup-guide.md)
- [APIデプロイガイド](api-deployment-guide.md)
- [画像アップロードセットアップガイド](image-upload-setup.md)
- [Google Drive設定ガイド](drive-setup-guide.md)

